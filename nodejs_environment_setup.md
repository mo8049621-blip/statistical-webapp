# Node.js 环境变量配置与问题排查指南

## 问题分析

您在命令行中执行 `node -v` 和 `npm -v` 命令时出现错误提示：
```
'node' 不是内部或外部命令，也不是可运行的程序或批处理文件。
```

这通常表明以下情况之一：
1. Node.js 尚未正确安装
2. Node.js 已安装但系统环境变量未配置
3. 环境变量已配置但需要重新打开命令提示符

## 第一步：验证 Node.js 是否已安装

### 检查安装路径

首先，确认 Node.js 是否已安装在您的系统中：

1. 打开文件资源管理器
2. 检查以下常见安装路径：
   - `C:\Program Files\nodejs\`
   - `C:\Program Files (x86)\nodejs\`
   - 您在安装时选择的自定义路径

如果找到这些文件夹，并且其中包含 `node.exe` 和 `npm.cmd` 文件，则说明 Node.js 已成功安装，只是环境变量未配置。

## 第二步：配置环境变量

### Windows 10/11 配置步骤

1. **打开环境变量设置**：
   - 右键点击「此电脑」或「计算机」图标，选择「属性」
   - 点击「高级系统设置」
   - 点击「环境变量」按钮

2. **编辑系统变量 Path**：
   - 在「系统变量」区域找到名为 `Path` 的变量，点击「编辑」
   - 点击「新建」并添加 Node.js 的安装路径，通常是：`C:\Program Files\nodejs\`
   - 点击「确定」保存更改

3. **验证配置**：
   - 关闭所有已打开的命令提示符窗口
   - 重新打开一个新的命令提示符窗口
   - 运行 `node -v` 和 `npm -v` 命令

如果仍然无法识别命令，请尝试以下方法：

## 第三步：手动测试 Node.js 安装

如果环境变量配置后仍有问题，您可以尝试直接使用完整路径运行 Node.js：

1. 打开命令提示符
2. 输入 Node.js 安装目录的完整路径，例如：
   ```cmd
   "C:\Program Files\nodejs\node.exe" -v
   "C:\Program Files\nodejs\npm.cmd" -v
   ```

如果这样能显示版本号，则确认 Node.js 已安装，但环境变量配置有问题。

## 第四步：重新安装 Node.js

如果上述步骤都无法解决问题，建议重新安装 Node.js：

1. **卸载现有 Node.js**：
   - 打开「控制面板」→「程序和功能」
   - 找到「Node.js」并卸载
   - 重启计算机（可选但推荐）

2. **重新下载安装包**：
   - 访问 [Node.js 官网](https://nodejs.org/zh-cn/)
   - 下载最新的 LTS 版本安装包

3. **重新安装**：
   - 双击安装包开始安装
   - 在安装向导中，确保勾选了 "Automatically install the necessary tools..." 选项
   - 完成安装后，重启计算机

## 第五步：使用 PowerShell 而非 CMD

有时在 CMD 中遇到的问题在 PowerShell 中不会出现：

1. 点击「开始」菜单
2. 搜索并打开 "Windows PowerShell"
3. 在 PowerShell 中运行 `node -v` 和 `npm -v` 命令

## 第六步：创建临时命令别名

如果您需要立即使用 Node.js 但环境配置仍有问题，可以在命令提示符中创建临时别名：

```cmd
set NODE_PATH="C:\Program Files\nodejs\"
set PATH=%PATH%;%NODE_PATH%
```

**注意**：这只是临时解决方案，关闭命令提示符后需要重新设置。

## 常见问题解答

**Q: 安装程序无法运行怎么办？**
A: 右键点击安装包，选择「以管理员身份运行」。

**Q: 如何确认环境变量是否生效？**
A: 在命令提示符中运行 `echo %PATH%` 命令，查看输出中是否包含 Node.js 安装路径。

**Q: 重新安装后还是无法识别命令？**
A: 可能是系统权限问题，尝试使用管理员权限打开命令提示符。

## 项目启动检查清单

在确认 Node.js 安装成功后，您可以按照以下步骤启动项目：

1. 打开命令提示符或 PowerShell
2. 使用 `cd` 命令导航到项目目录：
   ```cmd
   cd c:\Users\wyx33\Desktop\Demo2
   ```
3. 安装依赖：
   ```cmd
   npm install
   ```
4. 启动开发服务器：
   ```cmd
   npm run dev
   ```

如果在任何步骤中遇到问题，请随时寻求帮助！

祝您学习愉快！